follow your custom instruction

# ğŸ§  Kilo Code: General Rules

## ğŸ” Universal Workflow Rules (Applies to All Modes)

- âœ… Always use **pnpm**
- âŒ Never use **npm** or **yarn**
- âœ… Always use the **latest stable version** of all packages
- âŒ Never use deprecated or version-pinned packages unless specified
- âœ… Always add `-y` when running `npx` to skip prompts
- âœ… Always proceed to the **next step automatically**
- âŒ Never ask for confirmation unless it involves **destructive changes**
- âœ… Always auto-detect and fix bugs
- âŒ Never ask for manual bug fixes unless domain knowledge is needed
- âœ… Sanitize all inputs/outputs (e.g., APIs, forms)
- âœ… Handle edge cases and potential errors
- âœ… Always generate or update related **unit/integration tests**
- âœ… Remove all unused imports, variables, and dead code
- âœ… Respect and follow the defined folder and architecture conventions
- âœ… Use `index.ts` or `index.cs` as entry points where appropriate
- âœ… Group code by **feature**, not by file type unless specified
- âœ… Use strict type checking (TypeScript, C#, etc.)
- âœ… Write meaningful function and variable names
- âœ… Document logic only when itâ€™s not self-evident
- âœ… Use Markdown for all documentation

### ğŸš« Forbidden Execution Locations

- âŒ Never execute `npm`, `pnpm`, or any install/build commands on the root `/` path of the filesystem.
  - âœ… Always ensure you're inside a valid project folder (e.g., `backend/`, `frontend/`, or workspace root)

## ğŸ”§ Backend Rules (`km-backend`)

- âœ… Use Fastify + Prisma + PostgreSQL + TypeScript
- âœ… Follow domain + action-based structure
- âœ… One action per file
- âœ… Sanitize I/O
- âœ… Strict typing and error handling
- âœ… No direct DB logic in routes
- âœ… Keep feature logic clean, modular, and testable
- âœ… Folder structure must follow:  
  `/backend/src/domain/[feature]/[controllers|actions|requests|responses]/[file-name].(ts|js)`
- âœ… Use appropriate suffixes:
  - `.action.ts`, `.controller.ts`, `.request.ts`, `.response.ts`
- âœ… All folders and files must use **kebab-case** (lowercase with hyphens)  
  Example: `user-profile.controller.ts`, not `UserProfileController.ts`
- âœ… Each file must serve a **single responsibility**
- âŒ Do not mix logic types (e.g., placing a controller in an actions folder)

## ğŸ§ª Backend Testing Rules (`km-backend-testing`)

- âœ… Use `Vitest` or similar
- âœ… Test every feature or function
- âœ… Place tests under `backend/tests`
- âœ… Use isolated, deterministic tests
- âœ… Use descriptive test names and assertions
- âœ… Test the happy path only

## ğŸ¨ Frontend Rules (`km-frontend`)

- âœ… Use React + Vite
- âœ… Keep code accessible and testable
- âœ… Organize logic in feature folders
- âœ… Follow component best practices
- âœ… Use `render()` pattern where applicable
- âœ… Folder structure must follow:  
  `/frontend/src/[feature]/[components|views|services]/[file-name].(tsx|ts|js|jsx)`
- âœ… All folders and files must use **kebab-case**  
  Example: `product-list.component.tsx`
- âœ… Group frontend logic by feature
- âœ… Each file should focus on a single responsibility

## ğŸ“ PRD Authoring Rules (`km-prd-writer`)

- âœ… PRDs go in `docs/prd/` and are named using `kebab-case.prd.md`
- âœ… TODOs go in `docs/todos/` and must match the PRD filename: `kebab-case.todos.md`
- âœ… Must include task status: `Done`, `In Progress`, `Blocked`
- âœ… Every feature/subtask must be traceable to `.todos.md`
- âœ… Must generate matching TODO file immediately
- âœ… Use clear, complete descriptions of decisions and goals

## âœ… TODO File Rules

- âœ… Filename must match PRD: `feature-name.todos.md`
- âœ… Sections:
  - `## Tasks` â€” pending tasks
  - `## Completed` â€” finished tasks (do not delete!)
- âœ… Tasks must be:
  - Specific, actionable, and traceable
  - Written in plain markdown with checkboxes
- âœ… Automatically sync with `.prd.md`
- âœ… Always update on task start, update, or completion
- âœ… New PRD requirements must append new TODOs
- âœ… Keep TODOs even when all tasks are completed (acts as log)

## ğŸ¤– Orchestrator Rules (`km-orchestration`)

- âœ… Follow strict order:
  1. Create PRD
  2. Create TODO
  3. Implement Code
  4. Update TODOs
  5. Write Tests
- âœ… Use `new_task` to delegate work to specific modes
- âœ… Use `attempt_completion` to summarize results
- âœ… Break down large tasks into subtasks
- âœ… Always summarize results once all subtasks are done
